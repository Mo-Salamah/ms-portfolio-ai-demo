"""
Configuration for MS Portfolio AI Agent Demo - Enhanced Version
تكوين نظام المحفظة الذكي - النسخة المحسنة
"""

import os
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

# API Configuration
ANTHROPIC_API_KEY = os.getenv("ANTHROPIC_API_KEY")

# Model Configuration
MODEL_NAME = "claude-sonnet-4-20250514"
MAX_TOKENS = 4096
DEFAULT_TEMPERATURE = 0.7
ANALYTICAL_TEMPERATURE = 0.3  # For routing and analysis tasks

# UI Theme Colors
THEME = {
    "primary": "#1a365d",      # Dark blue
    "accent": "#d69e2e",       # Gold
    "background": "#FFFFFF",
    "secondary_bg": "#f0f2f6",
    "text": "#1a365d",
    "control_bg": "#fef3c7",   # Gold/amber for strategic control section
}

# =============================================================================
# PROJECT 1: Events Oversight Configuration
# =============================================================================

PROJECT_1_CONFIG = {
    "id": "project1",
    "name": "الإشراف على تخطيط الفعاليات الوطنية",
    "name_en": "National Events Planning Oversight",
    "description": "دعم التنسيق والمتابعة لبرنامج الفعاليات الوطنية",
    "status": "نشط",
    "context": """المشروع: الإشراف على تخطيط الفعاليات الوطنية 2027

الهدف: دعم التنسيق والمتابعة لبرنامج الفعاليات الوطنية من خلال جمع وتحليل بيانات الفعاليات من الجهات المنفذة، وضمان جاهزية المعلومات للجان الإشرافية.

النطاق:
• التنسيق مع الجهات المنفذة لجمع بيانات الفعاليات
• تحليل البيانات وتحديد الفجوات
• إعداد التقارير الدورية للجنة الإشرافية
• متابعة استكمال المعلومات الناقصة

الجهات المعنية:
• ثلاث جهات منفذة رئيسية
• اللجنة الإشرافية العليا
• فريق التنسيق والمتابعة

الموعد النهائي: اجتماع اللجنة - 1 سبتمبر 2027""",
    "memory": [
        {"date": "17 يناير 2027", "entry": "تم استلام ملف الفعاليات المحدث من الجهة المنفذة (أ)"},
        {"date": "15 يناير 2027", "entry": "الجهة المنفذة (ب) طلبت تمديد موعد تسليم البيانات"},
        {"date": "10 يناير 2027", "entry": "اجتماع تنسيقي مع فريق المتابعة - تم الاتفاق على قالب موحد"},
        {"date": "5 يناير 2027", "entry": "إرسال طلب البيانات الأولي لجميع الجهات"},
    ],
    "agents": [
        {
            "id": "coordinator",
            "name": "وكيل التنسيق الرئيسي",
            "name_en": "Main Coordination Agent",
            "description": "توجيه الطلبات وتنسيق سير العمل",
            "is_orchestrator": True
        },
        {
            "id": "data_analysis",
            "name": "وكيل تحليل البيانات",
            "name_en": "Data Analysis Agent",
            "description": "تحليل بيانات الفعاليات وإنتاج التقارير التحليلية"
        },
        {
            "id": "followup",
            "name": "وكيل المتابعة والتواصل",
            "name_en": "Follow-up & Communication Agent",
            "description": "تحديد المعلومات الناقصة وصياغة رسائل المتابعة"
        },
        {
            "id": "reporting",
            "name": "وكيل إعداد التقارير",
            "name_en": "Reporting Agent",
            "description": "تجميع النتائج وإعداد تقارير اللجان"
        },
        {
            "id": "quality_check",
            "name": "وكيل فحص الجودة",
            "name_en": "Quality Check Agent",
            "description": "التحقق من اكتمال البيانات وجودتها"
        },
    ]
}

# =============================================================================
# PROJECT 2: Major Celebrations Planning Configuration
# =============================================================================

PROJECT_2_CONFIG = {
    "id": "project2",
    "name": "التخطيط للاحتفاليات الكبرى",
    "name_en": "Major Celebrations Planning",
    "description": "تطوير الرؤية والإطار الاستراتيجي لاحتفالية وطنية تاريخية",
    "status": "نشط",
    "context": """المشروع: التخطيط الاستراتيجي لاحتفالية وطنية كبرى

الهدف: تطوير الرؤية والإطار الاستراتيجي لاحتفالية وطنية تاريخية من خلال دراسة التجارب الدولية المشابهة واستخلاص الدروس المستفادة.

النطاق:
• دراسات مقارنة للاحتفاليات الدولية الكبرى
• تطوير إطار مؤشرات الأداء
• تحديد خيارات التموضع الاستراتيجي
• إعداد محتوى جاهز للعروض التقديمية

مخرجات متوقعة:
• تقرير المقارنة المعيارية
• إطار مؤشرات الأداء الرئيسية
• خيارات الرؤية والتموضع
• عروض تقديمية للقيادة

المدة: 20 أسبوع""",
    "memory": [
        {"date": "16 يناير 2027", "entry": "اكتمال البحث المعمق لتجربة سانت بطرسبرغ"},
        {"date": "12 يناير 2027", "entry": "اعتماد هيكل تقرير المقارنة المعيارية"},
        {"date": "8 يناير 2027", "entry": "تحديد 5 تجارب دولية للدراسة"},
        {"date": "3 يناير 2027", "entry": "انطلاق مرحلة البحث والتحليل"},
    ],
    "agents": [
        {
            "id": "strategic_planning",
            "name": "وكيل التخطيط الاستراتيجي",
            "name_en": "Strategic Planning Agent",
            "description": "إدارة سير العمل الاستراتيجي والتنسيق",
            "is_orchestrator": True
        },
        {
            "id": "benchmarking",
            "name": "وكيل المقارنة المعيارية",
            "name_en": "Benchmarking Agent",
            "description": "إجراء البحوث المقارنة وتحليل التجارب الدولية"
        },
        {
            "id": "kpi",
            "name": "وكيل مؤشرات الأداء",
            "name_en": "KPI Agent",
            "description": "توصية مؤشرات الأداء وتحديد طرق القياس"
        },
        {
            "id": "critique",
            "name": "وكيل المراجعة والنقد",
            "name_en": "Critique Agent",
            "description": "مراجعة المخرجات وتقديم ملاحظات بناءة"
        },
        {
            "id": "content_prep",
            "name": "وكيل إعداد المحتوى",
            "name_en": "Content Preparation Agent",
            "description": "تنسيق المحتوى للعروض التقديمية"
        },
    ]
}

# =============================================================================
# PRESENTATION GUIDELINES
# =============================================================================

PRESENTATION_GUIDELINES = """معايير إعداد الشرائح

1. العنوان التنفيذي (Action Title)
   • كل شريحة تبدأ بعنوان يلخص الرسالة الرئيسية
   • العنوان جملة كاملة وليس مجرد وصف
   • مثال: "تجربة سانت بطرسبرغ تؤكد أهمية الاستثمار في البنية التحتية كإرث دائم"

2. رسالة واحدة لكل شريحة
   • تركيز على فكرة رئيسية واحدة
   • تجنب تشتيت انتباه القارئ
   • المحتوى يدعم العنوان التنفيذي

3. هيكل المحتوى
   • النقاط الرئيسية: 4-6 نقاط كحد أقصى
   • كل نقطة: جملة أو جملتين
   • استخدام البيانات والأرقام للدعم

4. التنسيق البصري
   • محاذاة من اليمين لليسار
   • استخدام الجداول للمقارنات
   • تجنب الإفراط في التنسيق

5. الختام والتوصيات
   • كل قسم ينتهي بـ "الدلالات والتوصيات"
   • ربط النتائج بالسياق المحلي"""

# =============================================================================
# STRATEGIC CONTROL TEXT
# =============================================================================

STRATEGIC_CONTROL_TEXT = """صلاحيات المحفظة

✓ التحكم في مخرجات جميع الوكلاء
✓ تحديد معايير الجودة والأسلوب
✓ الوصول الحصري لقاعدة المعرفة الداخلية
✓ إدارة ذاكرة الوكلاء وتحديثها
✓ تخصيص الوكلاء حسب احتياجات المشروع

المخرجات تحت السيطرة الكاملة:
• التقارير والتحليلات
• العروض التقديمية
• المراسلات الرسمية
• مؤشرات الأداء

ملاحظة: جميع المخرجات تعكس معايير وتفضيلات المحفظة"""

# =============================================================================
# INTENT KEYWORDS (for both projects)
# =============================================================================

INTENT_KEYWORDS = {
    "benchmarking": [
        "مقارنة", "معايير", "دراسة حالة", "تجارب دولية",
        "أفضل الممارسات", "مقارن", "benchmark", "تحليل مقارن",
        "سانت بطرسبرغ", "روما", "برشلونة", "تجارب عالمية"
    ],
    "kpi": [
        "مؤشرات", "قياس", "أداء", "KPI", "تقييم",
        "مؤشر", "قياسات", "متابعة", "رصد", "مقاييس"
    ],
    "critique": [
        "مراجعة", "نقد", "تحسين", "تقييم", "تحليل نقدي",
        "راجع", "قيم", "حلل", "ملاحظات", "تعليقات"
    ],
    "data_analysis": [
        "تحليل", "بيانات", "إحصائيات", "توزيع", "إجمالي",
        "فعاليات", "تصنيف", "نوع", "جهة"
    ],
    "followup": [
        "متابعة", "رسالة", "بريد", "تواصل", "ناقص",
        "مطلوب", "استكمال", "إرسال"
    ],
    "reporting": [
        "تقرير", "ملخص", "لجنة", "اجتماع", "تنفيذي"
    ],
    "slide": [
        "عرض", "شريحة", "تقديم", "ملخص", "عرض تقديمي",
        "شرائح", "بوربوينت", "تلخيص", "للعرض"
    ]
}

# =============================================================================
# LEGACY CONFIGURATION (for backward compatibility)
# =============================================================================

AGENT_NAMES = {
    "orchestrator": "المنسق",
    "benchmarking": "وكيل المقارنة المعيارية",
    "kpi": "وكيل مؤشرات الأداء",
    "critique": "وكيل النقد والمراجعة",
    "media": "وكيل الحملات الإعلامية",
    "slide": "وكيل المحتوى التقديمي"
}

CELEBRATION_CONTEXT = {
    "name": "احتفالية مملكة الميريديان 400 عام",
    "name_en": "Kingdom of Meridian 400th Anniversary",
    "year": 2027,
    "duration_months": 12,
    "cities": ["العاصمة", "ميناء الأمل", "منطقة الجبال"],
    "tiers": ["Marquee", "Tier 1", "Tier 2", "Tier 3"],
    "categories": ["أعمال", "ترفيه"],
    "event_types": ["مؤتمرات", "مهرجانات", "معارض", "قمم", "حفلات"]
}
